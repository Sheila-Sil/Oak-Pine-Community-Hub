<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Emergency Shelters | Oak Pine Hub</title>

  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">

  <style>
    
    :root{
      --bg-dark:#1b261b;
      --bg-card:#283628;
      --bg-lighter:#354a35;
      --text-main:#f1f8f1;
      --text-muted:#a8c5a8;
      --accent:#5cb85c;
      --accent-gold:#d4af37;
      --alert:#d9534f;
    }

    *{ box-sizing:border-box; }

    body{
      margin:0;
      background:var(--bg-dark);
      color:var(--text-main);
      font-family: Arial, sans-serif;
      line-height:1.55;
    }

    header{
      background: rgba(27,38,27,0.96);
      padding: 1rem 1.5rem;
      position: sticky;
      top: 0;
      z-index: 1000;
      border-bottom: 1px solid rgba(255,255,255,0.08);
      display:flex;
      align-items:center;
      justify-content:space-between;
    }

    .logo{
      font-weight: 900;
      color: var(--accent);
      display:flex;
      align-items:center;
      gap:10px;
    }

    .container{
      max-width: 1100px;
      margin: 0 auto;
      padding: 26px 18px;
    }

    .back-link{
      display:inline-flex;
      gap:10px;
      align-items:center;
      color: var(--accent-gold);
      text-decoration:none;
      font-weight:700;
      margin-bottom: 14px;
    }
    .back-link:hover{ color: var(--accent); }

    /* ---------- ALERT ---------- */
    .alert-bar{
      background: rgba(217,83,79,0.15);
      border: 1px solid rgba(217,83,79,0.45);
      color: #ffd6d6;
      padding: 14px 16px;
      border-radius: 14px;
      margin-bottom: 24px;
      display:flex;
      gap:12px;
      align-items:flex-start;
      animation: fadeIn 600ms ease;
    }

    .alert-bar i{
      color: var(--alert);
      font-size: 1.3rem;
      margin-top: 2px;
    }

    /* ---------- HEAD ---------- */
    h1{
      margin: 0 0 8px;
      color: var(--accent);
      font-size: 2.1rem;
    }

    p.lead{
      margin: 0 0 22px;
      color: var(--text-muted);
      max-width: 720px;
    }

    /* ---------- GRID ---------- */
    .grid{
      display:grid;
      grid-template-columns: repeat(auto-fit, minmax(280px, 1fr));
      gap: 18px;
    }

    .shelter-card{
      background: var(--bg-card);
      border: 1px solid rgba(255,255,255,0.08);
      border-radius: 16px;
      padding: 18px;
      cursor: pointer;
      transition: transform 220ms ease, border-color 220ms ease, box-shadow 220ms ease;
      animation: liftIn 500ms ease both;
    }

    .shelter-card:hover{
      transform: translateY(-5px);
      border-color: var(--accent);
      box-shadow: 0 12px 28px rgba(0,0,0,0.35);
    }

    .shelter-name{
      color: var(--accent-gold);
      font-weight: 900;
      margin: 0 0 8px;
      display:flex;
      align-items:center;
      gap:10px;
    }

    .meta{
      color: var(--text-muted);
      font-size: 0.95rem;
      line-height: 1.5;
    }

    .tag{
      display:inline-block;
      margin-top: 10px;
      padding: 4px 10px;
      border-radius: 999px;
      font-size: 0.75rem;
      font-weight: 800;
      letter-spacing: 0.4px;
      background: rgba(92,184,92,0.15);
      color: var(--accent);
      border: 1px solid rgba(92,184,92,0.35);
    }

    /* ---------- MODAL ---------- */
    .modal-overlay{
      display:none;
      position:fixed;
      inset:0;
      background: rgba(0,0,0,0.8);
      z-index: 5000;
      align-items:center;
      justify-content:center;
      padding: 18px;
    }
    .modal-overlay.show{ display:flex; }

    .modal-box{
      width:100%;
      max-width: 980px;
      background: var(--bg-card);
      border: 1px solid rgba(255,255,255,0.10);
      border-radius: 18px;
      overflow:hidden;
      box-shadow: 0 30px 80px rgba(0,0,0,0.6);
      animation: scaleIn 260ms ease;
    }

    .modal-header{
      padding: 14px 18px;
      display:flex;
      align-items:center;
      justify-content:space-between;
      border-bottom: 1px solid rgba(255,255,255,0.08);
      background: rgba(0,0,0,0.18);
    }

    .modal-title{
      margin:0;
      color: var(--accent-gold);
      font-weight: 900;
      display:flex;
      align-items:center;
      gap:10px;
    }

    .modal-close{
      background: rgba(255,255,255,0.08);
      border: 1px solid rgba(255,255,255,0.12);
      color: var(--text-main);
      width: 42px;
      height: 42px;
      border-radius: 12px;
      cursor:pointer;
    }
    .modal-close:hover{ border-color: var(--accent); }

    .modal-body{
      display:grid;
      grid-template-columns: 1fr 1.3fr;
      gap: 14px;
      padding: 16px;
    }

    @media(max-width: 900px){
      .modal-body{ grid-template-columns: 1fr; }
    }

    .details{
      background: rgba(0,0,0,0.18);
      border: 1px solid rgba(255,255,255,0.08);
      border-radius: 14px;
      padding: 14px;
    }

    .line{
      display:flex;
      gap:10px;
      margin: 10px 0;
      color: var(--text-muted);
      align-items:flex-start;
    }
    .line i{ color: var(--accent); margin-top:2px; }

    .map-wrap{
      border-radius: 14px;
      overflow:hidden;
      border: 1px solid rgba(255,255,255,0.10);
    }

    .map-wrap iframe{
      width:100%;
      height:420px;
      border:0;
      display:block;
    }

    .open-maps{
      margin-top: 12px;
      display:inline-flex;
      gap:10px;
      align-items:center;
      padding: 10px 14px;
      border-radius: 12px;
      border: 1px solid rgba(255,255,255,0.12);
      color: var(--text-main);
      text-decoration:none;
      font-weight: 800;
      background: rgba(0,0,0,0.18);
    }
    .open-maps:hover{
      border-color: var(--accent);
      background: rgba(92,184,92,0.15);
    }

    /* ---------- ANIMATIONS ---------- */
    @keyframes fadeIn{
      from{ opacity:0; transform: translateY(8px); }
      to{ opacity:1; transform:none; }
    }

    @keyframes liftIn{
      from{ opacity:0; transform: translateY(12px); }
      to{ opacity:1; transform:none; }
    }

    @keyframes scaleIn{
      from{ opacity:0; transform: scale(0.96); }
      to{ opacity:1; transform: scale(1); }
    }
  .site-footer{
  background: rgba(0,0,0,0.35);
  border-top: 1px solid rgba(255,255,255,0.08);
  margin-top: 60px;
}

.footer-inner{
  max-width: 1100px;
  margin: 0 auto;
  padding: 16px 18px;
  display: flex;
  align-items: center;
  justify-content: center;
  gap: 10px;
  font-size: 0.85rem;
  color: var(--text-muted);
}

.footer-inner i{
  color: var(--accent-gold);
}

  </style>
</head>

<body>
<header>
  <div class="logo"><i class="fa-solid fa-tree"></i> Oak Pine Hub</div>
</header>

<div class="container">
  <a class="back-link" href="index.html"><i class="fa-solid fa-arrow-left"></i> Back to Home</a>

  <div class="alert-bar">
    <i class="fa-solid fa-triangle-exclamation"></i>
    <div>
      <strong>If you are in immediate danger</strong>, call <b>911</b> or your local emergency number.
      These shelters provide short-term safety and housing support.
    </div>
  </div>

  <h1>Emergency Shelters</h1>
  <p class="lead">
    Below are emergency and transitional shelters available in and around Oak Pine.
    Click a shelter to see eligibility, hours, and directions.
  </p>

  <div class="grid">
    <div class="shelter-card"
      data-name="Oak Pine Emergency Shelter"
      data-address="789 Oak Pine Rd"
      data-hours="24 hours · Intake required"
      data-notes="Adults and families welcome. Limited beds available nightly."
      data-query="789 Oak Pine Rd">
      <div class="shelter-name"><i class="fa-solid fa-bed"></i> Oak Pine Emergency Shelter</div>
      <div class="meta">24-hour access · Intake required</div>
      <span class="tag">Open Tonight</span>
    </div>

    <div class="shelter-card"
      data-name="Safe Haven Women's Shelter"
      data-address="456 Willow St"
      data-hours="Daily 5 PM – 9 AM"
      data-notes="Women and children only. Confidential location."
      data-query="women shelter near me">
      <div class="shelter-name"><i class="fa-solid fa-house-chimney-heart"></i> Safe Haven Women’s Shelter</div>
      <div class="meta">Evening intake · Call ahead</div>
      <span class="tag">Women & Children</span>
    </div>

    <div class="shelter-card"
      data-name="Transitional Housing Program"
      data-address="102 Pine Way"
      data-hours="Office hours: Mon–Fri 9 AM – 4 PM"
      data-notes="Referral required. Case management provided."
      data-query="102 Pine Way">
      <div class="shelter-name"><i class="fa-solid fa-people-roof"></i> Transitional Housing</div>
      <div class="meta">Referral-based · Long-term support</div>
      <span class="tag">Transitional</span>
    </div>
  </div>
</div>

<!-- MODAL -->
<div class="modal-overlay" id="shelterModal" aria-hidden="true">
  <div class="modal-box" role="dialog" aria-modal="true">
    <div class="modal-header">
      <h3 class="modal-title"><i class="fa-solid fa-location-dot"></i> Shelter Details</h3>
      <button class="modal-close" id="modalClose"><i class="fa-solid fa-xmark"></i></button>
    </div>

    <div class="modal-body">
      <div class="details">
        <div class="line"><i class="fa-solid fa-building"></i> <b id="dName"></b></div>
        <div class="line"><i class="fa-solid fa-map-pin"></i> <span id="dAddress"></span></div>
        <div class="line"><i class="fa-solid fa-clock"></i> <span id="dHours"></span></div>
        <div class="line"><i class="fa-solid fa-circle-info"></i> <span id="dNotes"></span></div>

        <a class="open-maps" id="openMapsLink" target="_blank">
          <i class="fa-brands fa-google"></i> Open in Google Maps
        </a>
      </div>

      <div class="map-wrap">
        <iframe id="mapFrame" loading="lazy"></iframe>
      </div>
    </div>
  </div>
</div>

<script>
  const modal = document.getElementById("shelterModal");
  const modalClose = document.getElementById("modalClose");
  const mapFrame = document.getElementById("mapFrame");

  const dName = document.getElementById("dName");
  const dAddress = document.getElementById("dAddress");
  const dHours = document.getElementById("dHours");
  const dNotes = document.getElementById("dNotes");
  const openMapsLink = document.getElementById("openMapsLink");

  function openModalWith(data){
    dName.textContent = data.name;
    dAddress.textContent = data.address;
    dHours.textContent = data.hours;
    dNotes.textContent = data.notes;

    const q = encodeURIComponent(data.query);
   const baseLat = 40.7128; // base reference (NY-style demo)
const baseLng = -74.0060;

// small random offset so each shelter gets a unique pin
const randomLat = baseLat + (Math.random() - 0.5) * 0.04;
const randomLng = baseLng + (Math.random() - 0.5) * 0.04;

mapFrame.src = `https://www.google.com/maps?q=${randomLat},${randomLng}&z=14&output=embed`;

    openMapsLink.href = `https://www.google.com/maps/search/?api=1&query=${q}`;

    modal.classList.add("show");
    modal.setAttribute("aria-hidden","false");
  }

  function closeModal(){
    modal.classList.remove("show");
    modal.setAttribute("aria-hidden","true");
  }

  document.querySelectorAll(".shelter-card").forEach(card=>{
    card.addEventListener("click",()=>{
      openModalWith(card.dataset);
    });
  });

  modalClose.addEventListener("click", closeModal);
  modal.addEventListener("click", e => { if(e.target === modal) closeModal(); });
  document.addEventListener("keydown", e => {
    if(e.key === "Escape" && modal.classList.contains("show")) closeModal();
  });
</script>
<footer class="site-footer">
  <div class="footer-inner">
    <i class="fa-solid fa-circle-info"></i>
    For demo purposes only
  </div>
</footer>

</body>
</html>
